<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Firebase Test</title>
</head>
<body>

  <input id="msg" placeholder="à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡">
  <input id="ig" placeholder="@ig">
  <button onclick="send()">à¸ªà¹ˆà¸‡</button>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC4aqYP4YFPkaXE6039rnS6kgyDklt5ujA",
      authDomain: "test-706cb.firebaseapp.com",
      databaseURL: "https://test-706cb-default-rtdb.firebaseio.com",
      projectId: "test-706cb",
      storageBucket: "test-706cb.appspot.com",
      messagingSenderId: "897043689098",
      appId: "1:897043689098:web:b6d6d629d2ae72150b0773"
    };

    // init firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸‚à¹‰à¸² DB
    window.send = function () {
      set(ref(db, "screen"), {
        message: document.getElementById("msg").value,
        ig: document.getElementById("ig").value,
        time: Date.now()
      })
      .then(() => console.log("à¹€à¸‚à¸µà¸¢à¸™à¹€à¸‚à¹‰à¸² DB à¸ªà¸³à¹€à¸£à¹‡à¸ˆ ðŸ”¥"))
      .catch(err => console.error("à¸žà¸±à¸‡:", err));
    };
  </script>

</body>
</html>